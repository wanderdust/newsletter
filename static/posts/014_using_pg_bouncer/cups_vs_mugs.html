<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plastic vs Mug Pool â€“ Wider Panels</title>
<style>
  :root{--size:2.1rem;}
  body{background:#f4f4f4;text-align:center;padding:20px 10px;font-family:sans-serif;}
  button{padding:10px 26px;font-size:1rem;border:none;border-radius:6px;cursor:pointer;margin-bottom:18px;}
  .wrap{display:flex;justify-content:center;gap:48px;flex-wrap:wrap;}
  /* widened panel */
  .panel{border:2px solid #333;background:#fff;padding:12px;width:260px;min-height:260px;box-shadow:2px 2px 4px rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;gap:10px;}
  .title{font-size:2rem;line-height:1;}
  .label{font-size:0.85rem;font-weight:bold;}
  .stream,.rack,.bin{min-height:48px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;font-size:var(--size);}  
  .rack,.bin{border:1px solid #aaa;width:100%;padding:6px;min-height:78px;}
</style>
</head>
<body>
  <button id="play">â–¶ï¸ Play</button>
  <div class="wrap">
    <!-- Plastic cup panel -->
    <div class="panel" id="plasticPanel">
      <div class="title">ğŸ¥¤</div>
      <div class="stream" id="plasticStream"></div>
      <div class="label">Cups Used</div>
      <div class="bin" id="plasticBin"></div>
    </div>
    <!-- Mug pool panel -->
    <div class="panel" id="mugPanel">
      <div class="title">â˜•</div>
      <div class="stream" id="mugStream"></div>
      <div class="label">Mug Rack</div>
      <div class="rack" id="mugRack"></div>
    </div>
  </div>

<script>
const TOTAL_DRINKS = 12;   // total drink requests
const POOL_MUGS    = 4;    // rack capacity
const STEP_TIME    = 900;  // ms per step
const PEOPLE = ['ğŸ˜€','ğŸ˜ƒ','ğŸ˜„','ğŸ˜','ğŸ˜†','ğŸ˜…','ğŸ˜‚','ğŸ¤£','ğŸ˜Š','ğŸ˜‡','ğŸ™‚','ğŸ™ƒ','ğŸ˜‰','ğŸ˜—'];

const plasticStream = document.getElementById('plasticStream');
const plasticBin    = document.getElementById('plasticBin');
const mugStream     = document.getElementById('mugStream');
const mugRack       = document.getElementById('mugRack');

function reset(){
  plasticStream.innerHTML='';
  plasticBin.innerHTML='';
  mugStream.innerHTML='';
  mugRack.innerHTML='';
  for(let i=0;i<POOL_MUGS;i++) mugRack.append('â˜•');
}

function randomGroup(){ return Math.floor(Math.random()*3)+1; }

function start(){
  reset();
  let served=0;
  const timer=setInterval(()=>{
    if(served>=TOTAL_DRINKS){ clearInterval(timer); return; }

    const groupCount = Math.min(randomGroup(), TOTAL_DRINKS-served);
    served += groupCount;

    // Plastic cup process
    const cupFaces=[];
    for(let i=0;i<groupCount;i++) cupFaces.push(PEOPLE[Math.floor(Math.random()*PEOPLE.length)]+'ğŸ¥¤');
    plasticStream.textContent=cupFaces.join(' ');
    setTimeout(()=>{
      plasticStream.textContent='';
      for(let i=0;i<groupCount;i++) plasticBin.append('ğŸ¥¤');
    }, STEP_TIME/2);

    // Mug process
    const available=mugRack.childNodes.length;
    const take=Math.min(groupCount, available);
    const mugFaces=[];
    for(let i=0;i<take;i++){
      mugRack.firstChild.remove();
      mugFaces.push(PEOPLE[Math.floor(Math.random()*PEOPLE.length)]+'â˜•');
    }
    mugStream.textContent=mugFaces.join(' ');
    setTimeout(()=>{
      mugStream.textContent='';
      for(let i=0;i<take;i++) mugRack.append('â˜•');
    }, STEP_TIME/2);

  }, STEP_TIME);
}

document.getElementById('play').addEventListener('click', start);
</script>
</body>
</html>
