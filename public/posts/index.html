<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Pablo Lopez</title>
<meta name=keywords content><meta name=description content="Posts - Pablo Lopez"><meta name=author content><link rel=canonical href=http://localhost:1313/posts/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://localhost:1313/posts/index.xml><link rel=alternate hreflang=en href=http://localhost:1313/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/"><meta property="og:site_name" content="Pablo Lopez"><meta property="og:title" content="Posts"><meta property="og:description" content="Pablo's Newsletter"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Pablo's Newsletter"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Pablo Lopez (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Pablo Lopez</a><div class=logo-switches></div></div><ul id=menu><li><a href=http://localhost:1313/posts/ title=Posts><span class=active>Posts</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/archives/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kubernetes_exam</h2></header><div class=entry-content><p>Learning To prepare for the exam I took the Udemy Kubernetes Certified Application Developer (CKAD) with Tests which I could access for free through my company. The course covers all the topics required for the exam with labs to practice each section which I found super helpful. The labs are hosted on KodeKloud and they are free to access as part of the course.
I had some previous experience interacting with kubernetes as part of my job, but I lacked a good understanding of the basic concepts.
...</p></div><footer class=entry-footer><span title='2025-05-16 15:37:39 +0100 BST'>May 16, 2025</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to Kubernetes_exam" href=http://localhost:1313/posts/kubernetes_exam/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Postgres Replication
<span class=entry-hint title=Draft><svg height="20" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h2></header><div class=entry-content><p>Leader-Follower replication strategy A replica consists of a full copy of the database. There are two types of replicas, we have leaders and followers.
The leader or primary replica is used for writing operations to the database. Any write operation needs to go through the writer replica. It can also be used for reading.
The follower or reader replicas can only be used for reading the data. Whenever the data is written to the primary replica, it also sends the data changes to the writers.
...</p></div><footer class=entry-footer><span title='2025-05-16 13:14:57 +0100 BST'>May 16, 2025</span>&nbsp;·&nbsp;8 min</footer><a class=entry-link aria-label="post link to Postgres Replication" href=http://localhost:1313/posts/postgres_replication/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Building a Reverse ETL Pipeline: Upserting Delta Lake Data into Postgres with Structured Streaming</h2></header><div class=entry-content><p>In this post, I share how to build a Reverse ETL pipeline to upsert data from Delta (Databricks) into Postgres to provide sub-second response times to our tables.
The goal is to make warehouse data available to downstream systems that require millisecond response times. These systems could be front-end applications that need to consume this data, or online machine learning models that require additional data as input to generate predictions in real time.
...</p></div><footer class=entry-footer><span title='2025-05-08 13:21:30 +0100 BST'>May 8, 2025</span>&nbsp;·&nbsp;10 min</footer><a class=entry-link aria-label="post link to Building a Reverse ETL Pipeline: Upserting Delta Lake Data into Postgres with Structured Streaming" href=http://localhost:1313/posts/reverse_etl_databricks_to_postgres/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>We Need to Talk about Partitions</h2></header><div class=entry-content><p>The other day my team came across a peculiar situation with our Postgres database. We had this table partitioned by a primary key, which we’ll call order_id.
We realised one of the queries was taking a very long time to execute, and like good SQL debuggers we looked at the query plan.
Let’s pretend this was the slow query:
EXPLAIN ANALYZE SELECT * FROM orders WHERE customer_id = 12345; Upon inspection, we observed that the query plan was scanning at every single partition! And in our case, there were a lot of them. Seq Scan on orders_2020 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2021 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2022 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2023_q1 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2023_q2 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2023_q3 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2023_q4 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2024_q1 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2024_q2 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) Seq Scan on orders_2024_q3 (cost=0.00..25000.00 rows=10000 width=64) Filter: (customer_id = 12345) If you look closely at the query, there is no filter based on the partition key (order_id). Which explains why the query plan needs to look at every single partition to see if it includes the customer_id. If your partitions are large or without the correct indexes it can make your queries slow.
...</p></div><footer class=entry-footer><span title='2025-03-16 14:46:55 +0100 +0100'>March 16, 2025</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to We Need to Talk about Partitions" href=http://localhost:1313/posts/postgres_bad_partitions/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Load Testing PostgeSQL using Locust</h2></header><div class=entry-content><p>I recently needed to run load tests on a PostgreSQL database. Postgres is no question a reliable and scalable database ready for production use cases, but there might be times when you’ll need to confirm it can handle your specific use case. This might be necessary if you’re using a PostgreSQL database hosted by a third party or if you want to check if your current instance size and specs can manage your existing load.
...</p></div><footer class=entry-footer><span title='2025-01-10 15:09:39 +0100 +0100'>January 10, 2025</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Load Testing PostgeSQL using Locust" href=http://localhost:1313/posts/locust_postgres/></a></article><footer class=page-footer><nav class=pagination><a class=next href=http://localhost:1313/posts/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Pablo Lopez</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>